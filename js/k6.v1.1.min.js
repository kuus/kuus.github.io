/**
 * jquery.Jcrop.min.js v0.9.10 (build:20120429)
 * CUSTOMIZED VERSION by Alessandro Sansottera | http://kunderikuus.net
 * jQuery Image Cropping Plugin - released under MIT License
 * Copyright (c) 2008-2012 Tapmodo Interactive LLC
 * https://github.com/tapmodo/Jcrop
 */
(function(c){c.Jcrop=function(p,t){function u(a){a=c(a).offset();return[a.left,a.top]}function A(a){return[a.pageX-J[0],a.pageY-J[1]]}function B(a){"object"!==typeof a&&(a={});b=c.extend(b,a);c.each(["onChange","onSelect","onRelease","onDblClick"],function(a,q){"function"!==typeof b[q]&&(b[q]=function(){})})}function C(a,b){J=u(m);w.setCursor("move"===a?a:a+"-resize");if("move"===a)return w.activateHandlers(eb(b),ja);var q=k.getFixed(),c=va(a),d=k.getCorner(va(c));k.setPressed(k.getCorner(c));k.setCurrent(d); w.activateHandlers(fb(a,q),ja)}function fb(a,i){return function(q){if(b.aspectRatio)switch(a){case "e":q[1]=i.y+1;break;case "w":q[1]=i.y+1;break;case "n":q[0]=i.x+1;break;case "s":q[0]=i.x+1}else switch(a){case "e":q[1]=i.y2;break;case "w":q[1]=i.y2;break;case "n":q[0]=i.x2;break;case "s":q[0]=i.x2}k.setCurrent(q);h.update()}}function eb(a){var b=a;Z.watchKeys();return function(a){k.moveOffset([a[0]-b[0],a[1]-b[1]]);b=a;h.update()}}function va(a){switch(a){case "n":return"sw";case "s":return"nw"; case "e":return"nw";case "w":return"ne";case "ne":return"sw";case "nw":return"se";case "se":return"nw";case "sw":return"ne"}}function wa(a){return function(i){if(b.disabled||"move"===a&&!b.allowMove)return!1;J=u(m);K=!0;C(a,A(i));i.stopPropagation();i.preventDefault();return!1}}function xa(a,b,q){var c=a.width(),d=a.height();c>b&&0<b&&(c=b,d=b/a.width()*a.height());d>q&&0<q&&(d=q,c=q/a.height()*a.width());s=a.width()/c;v=a.height()/d;a.width(c).height(d)}function Q(a){return{x:a.x*s,y:a.y*v,x2:a.x2* s,y2:a.y2*v,w:a.w*s,h:a.h*v}}function ja(){var a=k.getFixed();a.w>b.minSelect[0]&&a.h>b.minSelect[1]?(h.enableHandles(),h.done()):h.release();w.setCursor(b.allowSelect?"crosshair":"default")}function ya(a){if(b.disabled||!b.allowSelect)return!1;K=!0;J=u(m);h.disableHandles();w.setCursor("crosshair");var i=A(a);k.setPressed(i);h.update();w.activateHandlers(gb,ja);Z.watchKeys();a.stopPropagation();a.preventDefault();return!1}function gb(a){k.setCurrent(a);h.update()}function za(){var a=c("<div></div>").addClass(b.baseClass+ "-tracker");c.browser.msie&&a.css({opacity:0,backgroundColor:"white"});return a}function Aa(a){Ba([a[0]/s,a[1]/v,a[2]/s,a[3]/v]);b.onSelect.call(z,Q(k.getFixed()));h.enableHandles()}function Ba(a){k.setPressed([a[0],a[1]]);k.setCurrent([a[2],a[3]]);h.update()}function Ca(){b.disabled=!0;h.disableHandles();h.setCursor("default");w.setCursor("default")}function Da(){b.disabled=!1;ka()}function la(a,i,d){i=i||b.bgColor;b.bgFade&&c.fx.step.hasOwnProperty("backgroundColor")&&b.fadeTime&&!d?a.animate({backgroundColor:i}, {queue:!1,duration:b.fadeTime}):a.css("backgroundColor",i)}function ka(a){b.allowResize?a?h.enableOnly():h.enableHandles():h.disableHandles();w.setCursor(b.allowSelect?"crosshair":"default");h.setCursor(b.allowMove?"move":"default");b.hasOwnProperty("trueSize")&&(s=b.trueSize[0]/n,v=b.trueSize[1]/j);b.hasOwnProperty("setSelect")&&(Aa(b.setSelect),h.done(),delete b.setSelect);D.refresh();b.bgColor!=Ea&&(la(b.shade?D.getShades():E,b.shade?b.shadeColor||b.bgColor:b.bgColor),Ea=b.bgColor);R!=b.bgOpacity&& (R=b.bgOpacity,b.shade?D.refresh():h.setBgOpacity(R));S=b.maxSize[0]||0;T=b.maxSize[1]||0;U=b.minSize[0]||0;V=b.minSize[1]||0;b.hasOwnProperty("outerImage")&&(m.attr("src",b.outerImage),delete b.outerImage);h.refresh()}var b=c.extend({},c.Jcrop.defaults),J,ma=!1;c.browser.msie&&"6"===c.browser.version.split(".")[0]&&(ma=!0);"object"!==typeof p&&(p=c(p)[0]);"object"!==typeof t&&(t={});B(t);var na={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},r=c(p),Fa=!0; if("IMG"==p.tagName){if(0!=r[0].width&&0!=r[0].height)r.width(r[0].width),r.height(r[0].height);else{var oa=new Image;oa.src=r[0].src;r.width(oa.width);r.height(oa.height)}var m=r.clone().removeAttr("id").css(na).show();m.width(r.width());m.height(r.height());r.after(m).hide()}else m=r.css(na).show(),Fa=!1,null===b.shade&&(b.shade=!0);xa(m,b.boxWidth,b.boxHeight);var n=m.width(),j=b.pageH,E=c("<div />").width(n).height(j).addClass(b.baseClass+"-holder").css({position:"absolute"}).insertAfter(r).append(m); b.addClass&&E.addClass(b.addClass);var H=c("<div />"),$=c("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),L=c("<div />").width("100%").height("100%").css("zIndex",320),M=c('<div class="jcrop-sel" />').css({position:"absolute",zIndex:300}).dblclick(function(){var a=k.getFixed();b.onDblClick.call(z,a)}).insertBefore(m).append($,L);Fa&&(H=c("<img />").attr("src",m.attr("src")).css(na).width(n).height(j),$.append(H));ma&&M.css({overflowY:"hidden"});var I= za().width(n).height(j).css({position:"absolute",zIndex:290}).mousedown(ya),Ea=b.bgColor,R=b.bgOpacity,S,T,U,V,s,v,K,hb;J=u(m);var F,Ga=function(){var a={},b=["touchstart","touchmove","touchend"],c=document.createElement("div"),d;try{for(d=0;d<b.length;d++){var e=b[d],e="on"+e,g=e in c;if(!g){c.setAttribute(e,"return;");g=typeof c[e]=="function"}a[b[d]]=g}return a.touchstart&&a.touchend&&a.touchmove}catch(f){return false}},Ha;Ha=!0===b.touchSupport||!1===b.touchSupport?b.touchSupport:Ga();F={createDragger:function(a){return function(i){i.pageX= i.originalEvent.changedTouches[0].pageX;i.pageY=i.originalEvent.changedTouches[0].pageY;if(b.disabled||a==="move"&&!b.allowMove)return false;K=true;C(a,A(i));i.stopPropagation();i.preventDefault();return false}},newSelection:function(a){a.pageX=a.originalEvent.changedTouches[0].pageX;a.pageY=a.originalEvent.changedTouches[0].pageY;return ya(a)},isSupported:Ga,support:Ha};var k,Ja=function(){if(!b.aspectRatio){var a=o-d,i=l-e;S&&Math.abs(a)>S&&(o=a>0?d+S:d-S);T&&Math.abs(i)>T&&(l=i>0?e+T:e-T);V/v&& Math.abs(i)<V/v&&(l=i>0?e+V/v:e-V/v);U/s&&Math.abs(a)<U/s&&(o=a>0?d+U/s:d-U/s);if(d<0){o=o-d;d=d-d}if(e<0){l=l-e;e=e-e}if(o<0){d=d-o;o=o-o}if(l<0){e=e-l;l=l-l}if(o>n){a=o-n;d=d-a;o=o-a}if(l>j){a=l-j;e=e-a;l=l-a}if(d>n){a=d-j;l=l-a;e=e-a}if(e>j){a=e-j;l=l-a;e=e-a}return Ia(pa(d,e,o,l))}var a=b.aspectRatio,i=b.minSize[0]/s,c=b.maxSize[0]/s,h=o-d,k=l-e,g=Math.abs(h),f=Math.abs(k);c===0&&(c=n*10);if(g/f<a){g=l;f=f*a;f=h<0?d-f:f+d;if(f<0){f=0;g=Math.abs((f-d)/a);g=k<0?e-g:g+e}else if(f>n){f=n;g=Math.abs((f- d)/a);g=k<0?e-g:g+e}}else{f=o;g=g/a;g=k<0?e-g:e+g;if(g<0){g=0;f=Math.abs((g-e)*a);f=h<0?d-f:f+d}else if(g>j){g=j;f=Math.abs(g-e)*a;f=h<0?d-f:f+d}}if(f>d){f-d<i?f=d+i:f-d>c&&(f=d+c);g=g>e?e+(f-d)/a:e-(f-d)/a}else if(f<d){d-f<i?f=d-i:d-f>c&&(f=d-c);g=g>e?e+(d-f)/a:e-(d-f)/a}if(f<0){d=d-f;f=0}else if(f>n){d=d-(f-n);f=n}if(g<0){e=e-g;g=0}else if(g>j){e=e-(g-j);g=j}return Ia(pa(d,e,f,g))},Ka=function(a){a[0]<0&&(a[0]=0);a[1]<0&&(a[1]=0);a[0]>n&&(a[0]=n);a[1]>j&&(a[1]=j);return[a[0],a[1]]},pa=function(a, b,c,d){var e=a,g=c,f=b,h=d;if(c<a){e=c;g=a}if(d<b){f=d;h=b}return[e,f,g,h]},Ia=function(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}},d=0,e=0,o=0,l=0,La,Ma;k={flipCoords:pa,setPressed:function(a){a=Ka(a);o=d=a[0];l=e=a[1]},setCurrent:function(a){a=Ka(a);La=a[0]-o;Ma=a[1]-l;o=a[0];l=a[1]},getOffset:function(){return[La,Ma]},moveOffset:function(a){var b=a[0],a=a[1];0>d+b&&(b=b-(b+d));0>e+a&&(a=a-(a+e));j<l+a&&(a=a+(j-(l+a)));n<o+b&&(b=b+(n-(o+b)));d=d+b;o=o+b;e=e+a;l=l+a},getCorner:function(a){var b= Ja();switch(a){case "ne":return[b.x2,b.y];case "nw":return[b.x,b.y];case "se":return[b.x2,b.y2];case "sw":return[b.x,b.y2]}},getFixed:Ja};var D,Oa=function(){return Na(k.getFixed())},Na=function(a){N.top.css({left:a.x+"px",width:a.w+"px",height:a.y+"px"});N.bottom.css({top:a.y2+"px",left:a.x+"px",width:a.w+"px",height:j-a.y2+"px"});N.right.css({left:a.x2+"px",width:n-a.x2+"px"});N.left.css({width:a.x+"px"})},aa=function(){return c("<div />").css({position:"absolute",backgroundColor:b.shadeColor|| b.bgColor}).appendTo(O)},Qa=function(){if(!W){W=true;O.insertBefore(m);Oa();h.setBgOpacity(1,0,1);H.hide();Pa(b.shadeColor||b.bgColor,1);h.isAwake()?ba(b.bgOpacity,1):ba(1,1)}},Pa=function(a,b){la(Ra(),a,b)},Sa=function(){if(W){O.remove();H.show();W=false;if(h.isAwake())h.setBgOpacity(b.bgOpacity,1,1);else{h.setBgOpacity(1,1,1);h.disableHandles()}la(E,0,1)}},ba=function(a,c){W&&(b.bgFade&&!c?O.animate({opacity:1-a},{queue:false,duration:b.fadeTime}):O.css({opacity:1-a}))},Ra=function(){return O.children()}, W=!1,O=c("<div />").css({position:"absolute",zIndex:240,opacity:0}),N={top:aa(),left:aa().height(j),right:aa().height(j),bottom:aa()};D={update:Oa,updateRaw:Na,getShades:Ra,setBgColor:Pa,enable:Qa,disable:Sa,resize:function(a,b){N.left.css({height:b+"px"});N.right.css({height:b+"px"})},refresh:function(){b.shade?Qa():Sa();h.isAwake()&&ba(b.bgOpacity)},opacity:ba};var h,Ta=function(a,b){var d=c("<div />").mousedown(wa(a)).css({cursor:a+"-resize",position:"absolute",zIndex:b}).addClass("ord-"+a);F.support&& d.bind("touchstart.jcrop",F.createDragger(a));L.append(d);return d},Va=function(){var a=k.getFixed();k.setPressed([a.x,a.y]);k.setCurrent([a.x2,a.y2]);Ua()},Ua=function(a){if(P)return Wa(a)},Wa=function(a){var c=k.getFixed(),d=c.h;M.width(c.w).height(d);var d=c.x,e=c.y;b.shade||H.css({top:-e+"px",left:-d+"px"});M.css({top:e+"px",left:d+"px"});b.shade&&D.updateRaw(c);if(!P){M.show();b.shade?D.opacity(R):qa(R,true);P=true}a?b.onSelect.call(z,Q(c)):b.onChange.call(z,Q(c))},qa=function(a,c,d){if(P||c)b.bgFade&& !d?m.animate({opacity:a},{queue:false,duration:b.fadeTime}):m.css("opacity",a)},Xa=function(){ca=true;if(b.allowResize){L.show();return true}},da=function(){ca=false;L.hide()},Ya=function(a){void 0===a?da():Xa()},P,Za=370,ca=!1;if(b.dragEdges&&c.isArray(b.createDragbars)){var $a=b.createDragbars,ea;for(ea=0;ea<$a.length;ea++)Ta($a[ea],Za++).addClass("jcrop-dragbar")}if(c.isArray(b.createHandles)){var ab=b.createHandles,fa;for(fa=0;fa<ab.length;fa++){var X=ab[fa],bb="n"==X||"e"==X||"s"==X||"w"==X? b.handleSizeS:b.handleSizeB;Ta(X,Za++).css({opacity:b.handleOpacity}).width(bb).height(bb).addClass(b.baseClass+"-handle")}}if(b.drawBorders&&c.isArray(b.createBorders)){var cb=b.createBorders,Y,ga;for(ga=0;ga<cb.length;ga++){switch(cb[ga]){case "n":Y="hline";break;case "s":Y="hline bottom";break;case "e":Y="vline right";break;case "w":Y="vline"}var ib=Y,jb=c("<div />").css({position:"absolute",opacity:b.borderOpacity}).addClass(b.baseClass+"-"+ib);$.append(jb)}}c(document).bind("touchstart.jcrop-ios", function(a){c(a.currentTarget).hasClass("jcrop-tracker")&&a.stopPropagation()});var ra=za().mousedown(wa("move")).css({cursor:"move",position:"absolute",zIndex:360});F.support&&ra.bind("touchstart.jcrop",F.createDragger("move"));$.append(ra);da();h={updateVisible:Ua,update:Wa,release:function(){da();M.hide();b.shade?D.opacity(1):qa(1);P=false;b.onRelease.call(z)},refresh:Va,isAwake:function(){return P},setCursor:function(a){ra.css("cursor",a)},enableHandles:Xa,enableOnly:function(){ca=true},showHandles:function(){ca&& L.show()},disableHandles:da,animMode:Ya,setBgOpacity:qa,done:function(){Ya(false);Va()}};var w,ta=function(a){sa(A(a));return false},ha=function(a){a.preventDefault();a.stopPropagation();if(K){K=false;ua(A(a));h.isAwake()&&b.onSelect.call(z,Q(k.getFixed()));I.css({zIndex:290});c(document).unbind(".jcrop");sa=function(){};ua=function(){}}return false},kb=function(a){a.pageX=a.originalEvent.changedTouches[0].pageX;a.pageY=a.originalEvent.changedTouches[0].pageY;return ta(a)},lb=function(a){a.pageX= a.originalEvent.changedTouches[0].pageX;a.pageY=a.originalEvent.changedTouches[0].pageY;return ha(a)},sa=function(){},ua=function(){},db=b.trackDocument;db||I.mousemove(ta).mouseup(ha).mouseout(ha);m.before(I);w={activateHandlers:function(a,b){K=true;sa=a;ua=b;I.css({zIndex:450});F.support&&c(document).bind("touchmove.jcrop",kb).bind("touchend.jcrop",lb);db&&c(document).bind("mousemove.jcrop",ta).bind("mouseup.jcrop",ha);return false},setCursor:function(a){I.css("cursor",a)}};var Z,mb=function(){G.hide()}, ia=function(a,c,d){if(b.allowMove){k.moveOffset([c,d]);h.updateVisible(true)}a.preventDefault();a.stopPropagation()},nb=function(a){if(a.ctrlKey||a.metaKey)return true;var c=(hb=a.shiftKey?true:false)?10:1;switch(a.keyCode){case 37:ia(a,-c,0);break;case 39:ia(a,c,0);break;case 38:ia(a,0,-c);break;case 40:ia(a,0,c);break;case 27:b.allowSelect&&h.release();break;case 9:return true}return false},G=c('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}),ob=c("<div />").css({position:"absolute", overflow:"hidden"}).append(G);b.keySupport&&(G.keydown(nb).blur(mb),ma||!b.fixedSupport?(G.css({position:"absolute",left:"-20px"}),ob.append(G).insertBefore(m)):G.insertBefore(m));Z={watchKeys:function(){if(b.keySupport){G.show();G.focus()}}};F.support&&I.bind("touchstart.jcrop",F.newSelection);L.hide();ka(!0);var z={setImage:function(a,c){h.release();Ca();var d=new Image;d.onload=function(){var e=d.height,h=b.boxWidth,g=b.boxHeight;m.width(d.width).height(e);m.attr("src",a);H.attr("src",a);xa(m, h,g);n=m.width();j=m.height();H.width(n).height(j);I.width(n+bound*2).height(j+bound*2);E.width(n).height(j);D.resize(n,j);Da();typeof c==="function"&&c.call(z)};d.src=a},animateTo:function(a,c){var d=a[2]/s,e=a[3]/v,j=k.flipCoords(a[0]/s,a[1]/v,d,e),g=k.getFixed(),f=[g.x,g.y,g.x2,g.y2],l=b.animationDelay,m=j[0]-f[0],n=j[1]-f[1],o=j[2]-f[2],r=j[3]-f[3],p=0,t=b.swingSpeed;x=f[0];y=f[1];d=f[2];e=f[3];h.animMode(true);var u=function(){p=p+(100-p)/t;f[0]=x+p/100*m;f[1]=y+p/100*n;f[2]=d+p/100*o;f[3]=e+ p/100*r;p>=99.8&&(p=100);if(p<100){Ba(f);window.setTimeout(u,l)}else{h.done();typeof c==="function"&&c.call(z)}};window.setTimeout(u,l)},setSelect:Aa,setOptions:function(a){B(a);ka()},tellSelect:function(){return Q(k.getFixed())},tellScaled:function(){return k.getFixed()},setClass:function(a){E.removeClass().addClass(b.baseClass+"-holder").addClass(a)},disable:Ca,enable:Da,cancel:function(){h.done();w.activateHandlers(null,null)},release:h.release,destroy:function(){E.remove();r.show();c(p).removeData("Jcrop")}, focus:Z.watchKeys,getBounds:function(){return[n*s,j*v]},getWidgetSize:function(){return[n,j]},getScaleFactor:function(){return[s,v]},getOptions:function(){return b},ui:{holder:E,selection:M}};c.browser.msie&&E.bind("selectstart",function(){return false});r.data("Jcrop",z);return z};c.fn.Jcrop=function(p,t){var u;this.each(function(){if(c(this).data("Jcrop")){if("api"===p)return c(this).data("Jcrop");c(this).data("Jcrop").setOptions(p)}else"IMG"==this.tagName?c.Jcrop.Loader(this,function(){c(this).css({display:"block", visibility:"hidden"});u=c.Jcrop(this,p);c.isFunction(t)&&t.call(u)}):(c(this).css({display:"block",visibility:"hidden"}),u=c.Jcrop(this,p),c.isFunction(t)&&t.call(u))});return this};c.Jcrop.Loader=function(p,t,u){function A(){C.complete?(B.unbind(".jcloader"),c.isFunction(t)&&t.call(C)):window.setTimeout(A,50)}var B=c(p),C=B[0];B.bind("load.jcloader",A).bind("error.jcloader",function(){B.unbind(".jcloader");c.isFunction(u)&&u.call(C)});C.complete&&c.isFunction(t)&&(B.unbind(".jcloader"),t.call(C))}; c.Jcrop.defaults={allowSelect:!0,allowMove:!1,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"#000",bgOpacity:0.6,bgFade:!0,borderOpacity:0.4,handleOpacity:0.5,handleSizeB:14,handleSizeS:8,pageH:768,aspectRatio:0,keySupport:!1,createHandles:"n s e w nw ne se sw".split(" "),createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,fadeTime:400,animationDelay:20,swingSpeed:3, minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);
/**
 * Copyright (c) 2007-2012 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * @author Ariel Flesler
 * @version 1.4.3
 */
;(function($){var h=$.scrollTo=function(a,b,c){$(window).scrollTo(a,b,c)};h.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};h.window=function(a){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var a=this,isWin=!a.nodeName||$.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)return a;var b=(a.contentWindow||a).document||a.ownerDocument||a;return/webkit/i.test(navigator.userAgent)||b.compatMode=='BackCompat'?b.body:b.documentElement})};$.fn.scrollTo=function(e,f,g){if(typeof f=='object'){g=f;f=0}if(typeof g=='function')g={onAfter:g};if(e=='max')e=9e9;g=$.extend({},h.defaults,g);f=f||g.duration;g.queue=g.queue&&g.axis.length>1;if(g.queue)f/=2;g.offset=both(g.offset);g.over=both(g.over);return this._scrollable().each(function(){if(!e)return;var d=this,$elem=$(d),targ=e,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);if(!targ.length)return;case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(g.axis.split(''),function(i,a){var b=a=='x'?'Left':'Top',pos=b.toLowerCase(),key='scroll'+b,old=d[key],max=h.max(d,a);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(g.margin){attr[key]-=parseInt(targ.css('margin'+b))||0;attr[key]-=parseInt(targ.css('border'+b+'Width'))||0}attr[key]+=g.offset[pos]||0;if(g.over[pos])attr[key]+=targ[a=='x'?'width':'height']()*g.over[pos]}else{var c=targ[pos];attr[key]=c.slice&&c.slice(-1)=='%'?parseFloat(c)/100*max:c}if(g.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&g.queue){if(old!=attr[key])animate(g.onAfterFirst);delete attr[key]}});animate(g.onAfter);function animate(a){$elem.animate(attr,f,g.easing,a&&function(){a.call(this,e,g)})}}).end()};h.max=function(a,b){var c=b=='x'?'Width':'Height',scroll='scroll'+c;if(!$(a).is('html,body'))return a[scroll]-$(a)[c.toLowerCase()]();var d='client'+c,html=a.ownerDocument.documentElement,body=a.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[d],body[d])};function both(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);
/**
* FitText.js 1.0
* CUSTOMIZED VERSION by Alessandro Sansottera | http://kunderikuus.net
* Copyright 2011, Dave Rupert http://daverupert.com
* Released under the WTFPL license 
* http://sam.zoy.org/wtfpl/
*/
(function(a){a.fn.fitText=function(d){var e=d||1;return this.each(function(){var b=a(this),c=function(){b.css("font-size",b.width()/(10*e))};c();a(window).on("resize",c)})}})(jQuery);
/**
 * jK6 - KUNDERIKUUS.NET custom script
 * @author Alessandro Sansottera | http://kunderikuus.net
 * jK6 released under MIT License
 * Copyright (c) 2012 Kunderikuus Web Design
 */
jQuery(function(a){function i(a){i.list||(i.list=[]);for(var c=0;c<a.length;c++){var d=new Image;d.src=a[c];i.list.push(d)}}function p(b){""!==b&&(j(),a(document).attr("title",b+" | KunderiKuus - Portfolio of Alessandro Sansottera"),a("#pageWrap").load(b+" #page",function(){q()}),440>a(window).width()?a(document).scrollTo("#nav",800):a(document).scrollTo("#title",800),a("nav a, nav a > small").removeClass("h"),a('nav a[href^="'+b+'"], nav a[href^="'+b+'"] > small').addClass("h"))}function j(b){""==d||b?(a("nav li a, #header").slideDown().show(),a("#disclaimer").show(),a("#back").hide()):(a("#disclaimer").hide(),a("#back").css("display","block"),440>a(window).width()?a('nav li a[href!="'+d+'"]').slideUp().hide():a("nav li a").slideDown().show())}function k(){440>a(window).width()?a("img").attr("src","css/img/"+d+"-s.png"):a("img").attr("src","css/img/"+d+".png");u.destroy();a(".jcrop-holder").remove()}function q(){k();a("#page").removeClass("no-js");a("#header").after('<div id="pageCrop"></div>');a("#pageWrap").hide().css({width:"",height:"auto"});var b=a("#pageDummy").offset();a("#pageDummy, #pageCrop").height(a("#pageWrap").height());a("#pageCrop").Jcrop({pageH:a("#pageWrap").height(),setSelect:[b.left,0,b.left+a("#pageWrap").width(),9999],onChange:v,onRelease:w});"contact"==d&&a.ajax({url:"js/k6.v1.0-contact.min.js",dataType:"script",cache:!0});b=a("#pageDummy");a("#pageWrap").css({top:b.offset().top+1,left:b.offset().left+1,width:b.width()-2,height:b.height()-2}).fadeIn()}function v(b){a("#hint").fadeOut();a("#pageWrap").css({top:a("#pageCrop").offset().top+1+Math.min(b.y,b.y2),left:Math.min(b.x,b.x2)+1,width:Math.abs(b.w-2),height:Math.abs(b.h-2)})}function w(){var b=Math.max(0,(a(window).height()-a("#hint").outerHeight())/2+a(window).scrollTop()),c=a("#header").offset().top+a("#header").outerHeight();b<c&&(b=c);a("#hint").css({top:b+"px",left:Math.max(0,(a(window).width()-a("#hint").outerWidth())/2+a(window).scrollLeft())+"px"}).fadeIn()}function r(){k();a("#title").fitText(0.7);a("#subtitle").fitText(1.6);j();""!==d&&setTimeout(function(){q()},520);for(var b=Math.max(window.innerHeight,window.innerWidth),c=b/15,b=b/30,i='"Georgia, serif";"Palatino Linotype", "Book Antiqua", Palatino, serif;"Times New Roman", Times, serif ;Arial, Helvetica, sans-serif;"Arial Black", Gadget, sans-serif;"Comic Sans MS", cursive, sans-serif;Impact, Charcoal, sans-serif;"Lucida Sans Unicode", "Lucida Grande", sans-serif;Tahoma, Geneva, sans-serif;"Trebuchet MS", Helvetica, sans-serif;Verdana, Geneva, sans-serif;"Courier New", Courier, monospace;"Lucida Console", Monaco, monospace'.split(";"),h=document.querySelectorAll("#resume"),g=0,x=h.length;g<x;++g){var s=h[g].textContent;h[g].innerHTML="";for(var l=0,f=s.length;l<f;++l){var e=document.createElement("span");h[g].appendChild(e);e.textContent=s[l];e.style.fontFamily=i[Math.floor(Math.random()*i.length)];e.style.fontSize=Math.floor(Math.random()*c+b)+"px"}}}function y(b){var c=b.pageX/a(document).width(),b=b.pageY/a(document).height();a("#logo").css({"-moz-transform":"rotateX("+(15-30*b)+"deg) rotateY("+(-20+40*c)+"deg)","-webkit-transform":"rotateX("+(7-30*b)+"deg) rotateY("+(-10+40*c)+"deg)","-o-transform":"rotateX("+(7-14*b)+"deg) rotateY("+(-10+20*c)+"deg)","-ms-transform":"rotateX("+(7-14*b)+"deg) rotateY("+(-10+20*c)+"deg)"})}var m,d="",u=a.Jcrop("#pageCrop"),t=["css/img/who-s.png","css/img/what-s.png","css/img/how-s.png","css/img/like-s.png","css/img/contact-s.png"],n=navigator.userAgent||navigator.vendor||window.opera,n=navigator.userAgent||navigator.vendor||window.opera;if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))m=!0;a("#logo").css("display","inline-block");a("#page").removeClass("no-js");m||t.push("css/img/t3.png","css/img/who.png","css/img/what.png","css/img/how.png","css/img/like.png","css/img/contact.png");i(t);r();p(d);a("nav a").click(function(){d=a(this).attr("href");p(d);return!1});a("#back, #logo, #title").click(function(){j(!0);a(document).attr("title","KunderiKuus | A cut along the web - Portfolio of Alessandro Sansottera");d="";a("nav a, nav a > small").removeClass("h");a("#hint").fadeOut();a(".jcrop-holder, #pageWrap").slideUp();a("#pageDummy").animate({height:0});k();a(document).scrollTo("0%",400)});m||(a(".r, .l, .d").each(function(){var b=a(this);b.slideUp();b.slideDown();b.hover(function(){b.slideUp()},function(){b.slideDown()})}),a(".t, .b").each(function(){var b=a(this);b.animate({width:"hide"},"fast");b.animate({width:"show"},"slow");b.hover(function(){b.animate({width:"hide"})},function(){b.animate({width:"show"})})}),a(".gK, .g6").each(function(){var b=a(this),c=b.offset(),d=c.left,c=c.top;b.width();b.height();var h=d+b.width()/2,g=c+b.height()/2;a(window).mousemove(function(a){var c=a.pageX,d=a.pageY,f=c,e=d,a=Math.sqrt((f-=h)*f+(e-=g)*e),f=(d-g)/40,e=(c-h)/40;d<g&&(f=Math.abs(f));d>g&&(f*=-1);c<h&&(e=Math.abs(e));c>h&&(e*=-1);c=parseInt(a/20);a=parseInt(a/80)+"px ";c=e+"px "+f+"px "+c+"px "+a+"rgba(0,0,0,.7)";b.css({"box-shadow":c});b.css({"-moz-box-shadow":c});b.css({"-o-box-shadow":c});b.css({"-webkit-box-shadow":c})})}),a(document).mousemove(y));a(window).on("resize",r)});